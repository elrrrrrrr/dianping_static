(function(e){function n(e){return typeof e=="object"?e:{top:e,left:e}}var t=e.scrollTo=function(t,n,r){return e(window).scrollTo(t,n,r)};t.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1,limit:true};t.window=function(t){return e(window)._scrollable()};e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!n){return t}var r=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||r.compatMode=="BackCompat"?r.body:r.documentElement})};e.fn.scrollTo=function(r,i,s){if(typeof i=="object"){s=i;i=0}if(typeof s=="function"){s={onAfter:s}}if(r=="max"){r=9e9}s=e.extend({},t.defaults,s);i=i||s.duration;s.queue=s.queue&&s.axis.length>1;if(s.queue){i/=2}s.offset=n(s.offset);s.over=n(s.over);return this._scrollable().each(function(){function h(e){u.animate(l,i,s.easing,e&&function(){e.call(this,a,s)})}if(r==null){return}var o=this,u=e(o),a=r,f,l={},c=u.is("html,body");switch(typeof a){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(a)){a=n(a);break}a=e(a,this);if(!a.length){return};case"object":if(a.is||a.style){f=(a=e(a)).offset()}}e.each(s.axis.split(""),function(e,n){var r=n=="x"?"Left":"Top",i=r.toLowerCase(),p="scroll"+r,d=o[p],v=t.max(o,n);if(f){l[p]=f[i]+(c?0:d-u.offset()[i]);if(s.margin){l[p]-=parseInt(a.css("margin"+r))||0;l[p]-=parseInt(a.css("border"+r+"Width"))||0}l[p]+=s.offset[i]||0;if(s.over[i]){l[p]+=a[n=="x"?"width":"height"]()*s.over[i]}}else{var m=a[i];l[p]=m.slice&&m.slice(-1)=="%"?parseFloat(m)/100*v:m}if(s.limit&&/^\d+$/.test(l[p])){l[p]=l[p]<=0?0:Math.min(l[p],v)}if(!e&&s.queue){if(d!=l[p]){h(s.onAfterFirst)}delete l[p]}});h(s.onAfter)}).end()};t.max=function(t,n){var r=n=="x"?"Width":"Height",i="scroll"+r;if(!e(t).is("html,body")){return t[i]-e(t)[r.toLowerCase()]()}var s="client"+r,o=t.ownerDocument.documentElement,u=t.ownerDocument.body;return Math.max(o[i],u[i])-Math.min(o[s],u[s])}})(jQuery);(function(e){function r(t,n,r){var i=n.hash.slice(1),s=document.getElementById(i)||document.getElementsByName(i)[0];if(!s){return}if(t){t.preventDefault()}var o=e(r.target);if(r.lock&&o.is(":animated")||r.onBefore&&r.onBefore(t,s,o)===false){return}if(r.stop){o._scrollable().stop(true)}if(r.hash){var u=r.offset;u=u&&u.top||u||0;var a=s.id==i?"id":"name",f=e("<a> </a>").attr(a,i).css({position:"absolute",top:e(window).scrollTop()+u,left:e(window).scrollLeft()});s[a]="";e("body").prepend(f);location=n.hash;f.remove();s[a]=i}o.scrollTo(s,r).trigger("notify.serialScroll",[s])}var t=location.href.replace(/#.*/,"");var n=e.localScroll=function(t){e("body").localScroll(t)};n.defaults={duration:1e3,axis:"y",event:"click",stop:true,target:window};e.fn.localScroll=function(i){function s(){return!!this.href&&!!this.hash&&this.href.replace(this.hash,"")==t&&(!i.filter||e(this).is(i.filter))}i=e.extend({},n.defaults,i);if(i.hash&&location.hash){if(i.target){window.scrollTo(0,0)}r(0,location,i)}return i.lazy?this.bind(i.event,function(t){var n=e([t.target,t.target.parentNode]).filter(s)[0];if(n){r(t,n,i)}}):this.find("a,area").filter(s).bind(i.event,function(e){r(e,this,i)}).end().end()};n.hash=function(){}})(jQuery);(function(e,t,n,r){e.fn.extend({scrollspy:function(n){var r={min:0,max:0,mode:"vertical",buffer:0,container:t,onEnter:n.onEnter?n.onEnter:[],onLeave:n.onLeave?n.onLeave:[],onTick:n.onTick?n.onTick:[]};var n=e.extend({},r,n);return this.each(function(t){var r=this;var i=n;var s=e(i.container);var o=i.mode;var u=i.buffer;var a=leaves=0;var f=false;s.bind("scroll",function(t){var n={top:e(this).scrollTop(),left:e(this).scrollLeft()};var l=o=="vertical"?n.top+u:n.left+u;var c=i.max;var h=i.min;if(e.isFunction(i.max)){c=i.max()}if(e.isFunction(i.min)){h=i.min()}if(c==0){c=o=="vertical"?s.height():s.outerWidth()+e(r).outerWidth()}if(l>=h&&l<=c){if(!f){f=true;a++;e(r).trigger("scrollEnter",{position:n});if(e.isFunction(i.onEnter)){i.onEnter(r,n)}}e(r).trigger("scrollTick",{position:n,inside:f,enters:a,leaves:leaves});if(e.isFunction(i.onTick)){i.onTick(r,n,f,a,leaves)}}else{if(f){f=false;leaves++;e(r).trigger("scrollLeave",{position:n,leaves:leaves});if(e.isFunction(i.onLeave)){i.onLeave(r,n)}}}})})}})})(jQuery,window)